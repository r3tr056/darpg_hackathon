{% load tailwind_tags %}
{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="https://cdn.jsdelivr.net/npm/tailwindcss/dist/tailwind.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
		integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
		crossorigin="anonymous" referrerpolicy="no-referrer" />
	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/hostmind/host@latest/static/index.css">
	<title>DARPG - {% block title %}{% endblock title %}</title>
	{% tailwind_css %}

	<style>
		.success {
			background-color: #4CAF50;
			color: #fff;
		}

		.error {
			background-color: #f44336;
			color: #fff;
		}
	</style>
	{% block style%}{% endblock %}
</head>

<body class="h-screen flex flex-col">
	<div>
		{% if messages %}
		<ul class="">
			{% for message in messages %}
			<li{% if message.tags %} class="{{ message.tags }} text-center py-2" {% endif %}>{{ message }}</li>
				{% endfor %}
		</ul>
		{% endif %}
	</div>
	<nav class="nav bg-gray-50 text-white flex justify-between items-center p-3 px-8 md:px-20 border-b borer-gray-300">
		<a href="/">
			<img src="{% static 'images/logo.png' %}" width="90%" />
		</a>
		<div class='flex space-x-4 text-xl'>
			<i class="searchBtn text-black mt-1 bi bi-search text-sm cursor-pointer md:hidden"></i>
			<i class="nav-btn bi text-black bi-list cursor-pointer md:hidden"></i>
		</div>
		<div class="md:block hidden text-xl ">
			<a href="/" class="px-5 text-black hover:text-blue-700">Home</a>
			<a href="/" class="px-5 text-black hover:text-blue-700">About</a>
			<a href="/portal" class="px-5 text-black hover:text-blue-700">Grievance Portal</a>
			<i class="searchBtn1 p-5 text-black hover:bg-gray-200 bi bi-search text-sm cursor-pointer"></i>
		</div>

	</nav>

	<div class="mob-nav hidden flex-col items-center w-full h-64 md:hidden space-y-2">
		<a href="/" class="w-full text-center py-2 text-black hover:text-blue-700 border-b border-gray-300">Home</a>
		<a href="/" class="w-full text-center py-2 text-black hover:text-blue-700 border-b border-gray-300">About</a>
		<a href="/" class="w-full text-center py-2 text-black hover:text-blue-700">Grievance Portal</a>
	</div>
	<div class="flex-1">
		{% block content %}{% endblock %}
	</div>

	<footer class='bg-[#3b3d42] text-white p-8 pb-2 md:px-40'>
		<div class="mx-auto w-full max-w-screen-xl p-4 py-2 lg:py-8">
			<div class="md:flex md:justify-between">
				<div class="mb-6 md:mb-0">
					<a href="https://flowbite.com/" class="flex items-center">
						<img src="https://flowbite.com/docs/images/logo.svg" class="h-8 me-3" alt="FlowBite Logo" />
						<span
							class="self-center text-2xl font-semibold whitespace-nowrap dark:text-white">DocInsight</span>
					</a>
					<span class="text-xs ml-11">Made in India</span>
				</div>
				<div class="grid grid-cols-2 gap-8 sm:gap-6 sm:grid-cols-3">
					<div>
						<h2 class="mb-6 text-sm font-semibold text-gray-900 uppercase dark:text-white">Resources</h2>
						<ul class="text-gray-500 dark:text-gray-400 font-medium">
							<li class="mb-4">
								<a href="https://flowbite.com/" class="hover:underline">DocInsight</a>
							</li>
							<li>
								<a href="https://tailwindcss.com/" class="hover:underline">Tailwind CSS</a>
							</li>
						</ul>
					</div>
					<div>
						<h2 class="mb-6 text-sm font-semibold text-gray-900 uppercase dark:text-white">Follow us</h2>
						<ul class="text-gray-500 dark:text-gray-400 font-medium">
							<li class="mb-4">
								<a href="https://github.com/themesberg/flowbite" class="hover:underline ">Github</a>
							</li>
							<li>
								<a href="https://discord.gg/4eeurUVvTy" class="hover:underline">Discord</a>
							</li>
						</ul>
					</div>
					<div>
						<h2 class="mb-6 text-sm font-semibold text-gray-900 uppercase dark:text-white">Legal</h2>
						<ul class="text-gray-500 dark:text-gray-400 font-medium">
							<li class="mb-4">
								<a href="#" class="hover:underline">Privacy Policy</a>
							</li>
							<li>
								<a href="#" class="hover:underline">Terms &amp; Conditions</a>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</footer>

	<div class='bg-[#2d2f34] text-white text-justify flex justify-center items-center p-2'>
		<p class='p-2 border-r-2 border-blue-600 pr-3'>Copyright &copy;
			<script>document.write(new Date().getFullYear())</script> <span class="text-blue-500 text-justify"><a
					href="/" target="_blank">DARPG</a></span> All Rights Reserved
		</p>
		<div class="ml-5 flex space-x-3">
			<a href="https://data.gov.in/sites/default/files/NDSAP.pdf">
				<img src="https://data.gov.in/sites/default/files/banners/ndsap.jpg" width="150px" />
			</a>
			<a href="https://data.gov.in/sites/default/files/NDSAP_Implementation_Guidelines_2.2.pdf">
				<img src="https://data.gov.in/sites/default/files/banners/open-data-implementation_0.jpg"
					width="150px" />
			</a>
		</div>
	</div>

	<div
		class="searchModal text-black z-50 fixed bottom-0 inset-x-0 px-4 pb-4 sm:inset-0 sm:flex sm:items-center sm:justify-center">
		<div class="fixed inset-0 transition-opacity">
			<div class="absolute inset-0 bg-gray-800 opacity-75"></div>
		</div>
		<div class='modal animate-reveal flex items-center justify-center h-screen'>
			<div class="bg-gray-100  overflow-hidden shadow-xl transform transition-all sm:max-w-sm sm:w-full">
				<div class="bg-gray-100 px-10 py-5 border-b border-gray-300">
					<div class="text-2xl">Search</div>
				</div>
				<form class="px-5 py-5">


					<!-- Search Input -->
					<div class="mb-4 flex space-x-2">
						<input type="text"
							class="searchInput w-full bg-gray-100 border-2 border-blue-500 rounded-lg py-2 px-4 outline outline-transparent"
							placeholder="Enter your search query...">
						<a type="submit"
							class="searchSubmitBtn bg-gary-100 hover:bg-gray-300 text-black font-medium py-2 px-4 rounded-lg"
							href=""><i class="bi bi-search"></i></a>
					</div>
				</form>
				<!-- Close Button -->
				<button
					class="searchCloseBtn m-2 absolute top-0 right-0 font-medium transition-colors p-4 focus:outline-none"
					aria-label="Close"><i class="bi bi-x text-xl"></i></button>

			</div>
		</div>
	</div>

</body>

<!-- Backdrop -->
<div id="backdrop" class="hidden fixed inset-0 bg-gray-900 bg-opacity-70 z-40"></div>

<div id="shareModal" class="hidden fixed inset-0 items-center justify-center z-50">
	<!-- Modal content -->
	<div class="bg-white shadow-md max-w-xl mx-auto mt-64 border-2 border-gray-300">

		<div class="flex bg-gray-200 border-b border-gray-300 px-5 py-4 justify-between">
			<span class="text-xl">Share the document</span>
			<button id="closeShareModal">
				<i class="bi bi-x text-2xl"></i>
			</button>
		</div>
		<div class="py-4 px-4 space-y-2">
			<div>
				<span class="text-gray-800">Share via username</span>
				<input type="email" name="email" id="email"
					class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm  focus:ring-blue-600 focus:border-blue-600 block w-full p-2.5"
					placeholder="Username" required="">
			</div>
			<div>
				<span class="text-gray-800">Share via Mail</span>
				<input type="email" name="email" id="email"
					class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm  focus:ring-blue-600 focus:border-blue-600 block w-full p-2.5"
					placeholder="name@company.com" required="">
			</div>
			<button
				class="w-full mt-5 py-2 px-5 text-center bg-green-700 hover:bg-green-800 transition-colors rounded-md text-white">Share</button>
		</div>

	</div>
</div>

<style>
	body {
		font-family: Poppins;
		transition: 0.3s ease-in-out;
	}

	.wave {
		animation-name: wave-animation;
		animation-duration: 2.5s;
		animation-iteration-count: infinite;
		transform-origin: 70% 70%;
		display: inline-block;
	}

	@keyframes wave-animation {
		0% {
			transform: rotate(0.0deg)
		}

		10% {
			transform: rotate(14.0deg)
		}

		20% {
			transform: rotate(-8.0deg)
		}

		30% {
			transform: rotate(14.0deg)
		}

		40% {
			transform: rotate(-4.0deg)
		}

		50% {
			transform: rotate(10.0deg)
		}

		60% {
			transform: rotate(0.0deg)
		}

		100% {
			transform: rotate(0.0deg)
		}
	}

	.updn {
		animation-name: up-down;
		animation-duration: 5s;
		animation-iteration-count: infinite;
	}

	@keyframes up-down {
		0% {
			transform: translateY(0);
		}

		50% {
			transform: translateY(-10px);
		}

		100% {
			transform: translateY(0);
		}
	}

	.searchModal {
		display: none;
	}

	.animate-reveal {
		animation: reveal 0.3s ease-out;
	}

	@keyframes reveal {
		from {
			opacity: 0;
			transform: translateY(100%);
		}

		to {
			opacity: 1;
			transform: translateY(0%);
		}
	}

	@keyframes shake {

		from,
		to {
			transform: translate3d(0, 0, 0);
		}

		10%,
		30%,
		50%,
		70%,
		90% {
			transform: translate3d(-10px, 0, 0);
		}

		20%,
		40%,
		60%,
		80% {
			transform: translate3d(10px, 0, 0);
		}
	}

	.shake {
		animation: shake 0.5s;
	}
</style>
{% block scripts%}{% endblock %}
<script src="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.js"></script>

<!-- Your custom JavaScript to handle modal functionality -->
<script>
	// Get modal and button elements
	const modal = document.getElementById('shareModal');
	const backdrop = document.getElementById('backdrop');
	const openModalBtn = document.getElementById('openShareModal');
	const closeModalBtn = document.getElementById('closeShareModal');

	// Open modal
	openModalBtn.addEventListener('click', () => {
		modal.classList.remove('hidden');
		backdrop.classList.remove('hidden');
	});

	// Close modal
	closeModalBtn.addEventListener('click', () => {
		modal.classList.add('hidden');
		backdrop.classList.add('hidden');
	});
</script>

<script>
	const toggleButton = document.querySelector('.nav-btn');
	const navbarContent = document.querySelector('.mob-nav');

	toggleButton.addEventListener('click', () => {
		if (navbarContent.classList.contains('hidden')) {
			navbarContent.classList.replace('hidden', 'flex');
		} else {
			navbarContent.classList.replace('flex', 'hidden');
		}
	});

	// Store DOM elements in variables
	const searchBtn = document.querySelector(".searchBtn");
	const searchBtn1 = document.querySelector(".searchBtn1");
	const searchModal = document.querySelector(".searchModal");
	const Modal = document.querySelector(".modal");
	const searchCloseBtn = document.querySelector(".searchCloseBtn");
	const searchSubmitBtn = document.querySelector(".searchSubmitBtn");
	const searchInput = document.querySelector(".searchInput");

	// Show Search Modal function
	function showSearchModal() {
		searchModal.style.display = "block";
	}

	// Hide Search Modal function
	function hideSearchModal() {
		searchModal.style.display = "none";
	}

	// Submit Search Form function
	function submitSearchForm(event) {
		event.preventDefault();
		const searchQuery = searchInput.value.trim();
		if (!searchQuery) {
			searchInput.classList.add('shake');
			setTimeout(function () {
				searchInput.classList.remove('shake');
			}, 500);
			return;
		}
		window.open("/search/?q=" + encodeURIComponent(searchQuery));
	}

	// Add event listeners
	searchBtn.addEventListener("click", showSearchModal);
	searchBtn1.addEventListener("click", showSearchModal);
	searchCloseBtn.addEventListener("click", hideSearchModal);
	searchSubmitBtn.addEventListener("click", submitSearchForm);
</script>

</html>